<?xml version="1.0" encoding="utf-8"?>
	<openerp>
	    <data>
	    <record id="search_product_lot_filter_msl" model="ir.ui.view">
	            <field name="name">stock.search.product.lot.filter.msl</field>
	            <field name="model">stock.production.lot</field> 
	            <field name="inherit_id" ref="stock.search_product_lot_filter"/>
	            <field name="arch" type="xml">
	            	<xpath expr="//filter[@name='available']" position="after">
	            		<filter icon="terp-check" name="msl_status_ready" string="Ready" domain="[('msl_status', '=', 'ready')]" help="Available for use"/>
	            		<filter icon="terp-check" name="msl_status_alert" string="Alert" domain="[('msl_status', '=', 'alert')]" help="Available for use but should be sent to baking soon"/>
	            		<filter icon="terp-check" name="msl_status_dontuse" string="Do not use" domain="[('msl_status', '=', 'donotuse')]" help="Do not use, send to baking"/>
	            		<field name="msl_status"/>
		            </xpath>
            	</field>
      	</record>
	    
	    <!-- Se aumenta campo selection en vista  en el formulario de seriales -->
	        <record id="stock_production_lot_form_view_msl" model="ir.ui.view">
	            <field name="name">stock.production.lot.form.view.msl</field>
	            <field name="model">stock.production.lot</field> 
	            <field name="inherit_id" ref="stock.view_production_lot_form"/>
	            <field name="type">form</field>
	              <field name="arch" type="xml">
	            	<xpath expr="//field[@name='ref']" position="after">
	            		<group string="MSL">
		                 	<field name="msl_status"/>
		                 	<field name="moisture_exposed_time" widget="float_time" sum="Moisture Exposed Time"/>
		                 	<field name="msl_id"/>
		                 	<field name="open_time"/>
		                 </group>
		             </xpath>
            	  </field>
	      	</record>
	      <!-- Se aumenta campo selection en vista  en el formulario de seriales tree-->	      	
	      	<record id="stock_production_lot_form_view_msl_tree" model="ir.ui.view">
	            <field name="name">stock.production.lot.tree.view.msl</field>
	            <field name="model">stock.production.lot</field> 
	            <field name="inherit_id" ref="stock.view_production_lot_tree"/>
	            <field name="type">tree</field>
	              <field name="arch" type="xml">
	            	<xpath expr="//field[@name='ref']" position="after">
	                 	<field name="msl_status" /> 
		             </xpath>
		             <xpath expr="//tree[@string='Serial Number']" position="attributes">
	                 	<attribute name="colors">orange:msl_status == 'alert';red:msl_status == 'donotuse'</attribute> 
		             </xpath>
            	  </field>
	      	</record>
	      	<record id="stock_partial_picking_form_view_msl" model="ir.ui.view">
	            <field name="name">stock.partial.picking.form.view.msl</field>
	            <field name="model">stock.partial.picking</field> 
	            <field name="inherit_id" ref="stock.stock_partial_picking_form"/>
	            <field name="type">form</field>
	            <field name="arch" type="xml">
	            	<xpath expr="//field[@name='prodlot_id']" position="replace">
	            		<field name="prodlot_id" 
	            		domain="[('product_id', '=', product_id)]" 
	            		invisible="context.get('hide_tracking',False)" 
	            		attrs="{'required':[('tracking','=',True), ('quantity', '!=', 0)]}" 
	            		groups="stock.group_production_lot" 
	            		context="{'default_product_id':product_id}"
	            		on_change="onchange_prodlot_id(prodlot_id,product_id)"/>
		             </xpath>
	            </field>
	  		</record> 	 		
       	</data>
   	</openerp>